<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Form Builder - DEMO</title>
  <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.css">
  <link rel="stylesheet" href="../dist/fl-form-builder.css">

  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
  <script src="../node_modules/bootstrap/dist/js/bootstrap.js"> </script> -->
  <script src="dependencies/x-div/x-div.js"> </script>
  <style>
    .navbar {
      height: 40px;
    }
    .greyed-out {
      background-color: #eee;
    }
    .sidebar {
      min-height: 1000px;
      max-height: 100%;
    }
    @media (max-width: 750px) {
      .sidebar {
        display: none;
      }
    }

  </style>
</head>
<body>
  <div class="container">
    <div class="row navbar greyed-out"></div>
    <div class="row">
      <div class="col-sm-3 sidebar greyed-out">
      </div>

      <!-- <h1>Form Builder loaded inline</h1>
      <div class="col-sm-9">
        <x-div
          data-controller="../dist/fl-form-builder"
          data-restore-state='[{"required":true,"title":"Element 1 Title [required]","type":"TextBox","placeholder":"element 1 placeholder"},{"required":false,"title":"Element 2 Title [3 options, not required]","type":"Checkboxes","options":["option 1","opiton 2","option 3"]},{"required":true,"title":"Element 3 Title [3 options, required]","type":"Dropdown","options":["Option 1","Option 2 [disabled]","Option 3"],"disabledIndexes":[1]}]'
          ></x-div>
      </div> -->

      <h1>Form Builder loaded via javascript</h1>
      <div class="col-sm-9 xdiv-container">
      </div>
    </div>
  </div>

  <script>
    var json = '[{"required":true,"title":"Element 1 Title [required]","type":"TextBox","placeholder":"element 1 placeholder"},{"required":false,"title":"Element 2 Title [3 options, not required]","type":"Checkboxes","options":["option 1","opiton 2","option 3"]},{"required":true,"title":"Element 3 Title [3 options, required]","type":"Dropdown","options":["Option 1","Option 2 [disabled]","Option 3"],"disabledIndexes":[1]}]'
    var pastState = JSON.parse(json);
    var xdiv = document.createElement('x-div');
    xdiv.setAttribute('data-controller', '../dist/fl-form-builder');

    document.addEventListener('formBuilderLoaded', function (e) {
      e.detail.instance.importState(pastState);
    })

    var container = document.querySelector('.xdiv-container');
    container.appendChild(xdiv);
  </script>
</body>
</html>
